# 实践笔记

## 语言篇

### sql

#### 常用函数整理

```sql
--字符串处理
substr(a.area,1,2)=b.soapcode --截取前两位
--数字处理
avg(t.fscreen_res_times) --求平均
sum(t.fscreen_res_times) --求和
round(avg(t.fscreen_res_times),2) --保留两位小数
```

#### 判断是否为空

```sql
exch is null 
```
#### case语句加正则匹配所有数字

```sql
case
	when REGEXP_LIKE(netcartrate,'(^[+-]?\d{0,}\.?\d{0,}$)') then
		netcartrate || 'M'
	else
		netcartrate
	end 
		netcartrate

--简单Case函数
CASE sex
WHEN '1' THEN '男'
WHEN '2' THEN '女'
ELSE '其他' END
--Case搜索函数
CASE WHEN sex = '1' THEN '男'
WHEN sex = '2' THEN '女'
ELSE '其他' END
--正则表达式
^ 匹配输入字符串的开始位置
[+-] 匹配指定范围内的任意字符
? 匹配0或1个正好在它之前的那个字符
\d 匹配一个数字字符
{n,} n是一个非负整数。至少匹配前面的n次
$ 匹配输入字符串的结束位置
```
#### update更新语句

```sql
UPDATE temp_userid t
SET t.ctime = (
		SELECT max(b.btime)
		FROM vi_speed_info b
		WHERE b.userid = t.userid
		)
--MAX 函数返回一列中的最大值
```
#### OVER()函数

```sql
UPDATE test_for_search t
SET (
		t.stime
		,t.responserate
		) = (
		SELECT a.stime,a.responserate
		FROM (
			SELECT userid,responserate,stime
			FROM (
				SELECT b.userid
					,b.responserate
					,b.stime
					,row_number() OVER (PARTITION BY b.userid ORDER BY b.stime) AS ind
				FROM v_speed_info_bday b
					,test_for_search t
				WHERE b.userid = t.userid
					AND b.stime BETWEEN to_date('2016-03-10 000000', 'yyyy-mm-dd hh24miss')
						AND to_date('2016-03-10 235959', 'yyyy-mm-dd hh24miss')
				GROUP BY b.userid,b.responserate,b.stime
				)
			WHERE ind = 1
			) a
		WHERE a.userid = t.userid
		)
--分析函数OVER(PARTITION BY)
ROW_NUMBER()返回结果集分区内行的序列号，每个分区的第一行从 1 开始

select decode(grouping(http_url), 1, '综合平均', http_url) http_url,
       avg(t.fscreen_res_times),
       avg(t.homepage_res_times),
       avg(t.homepage_dw_speed),
       avg(t.tcp_delay_times),
       avg(t.http_delay_times),
       avg(t.dns_delay_times),
       avg(t.access_succ_rate),
       avg(t.qoe_value)
  from app_qoe_http_info t
 where stime between to_date('2015-12-03 000000', 'yyyy-mm-dd hh24miss') and
       to_date('2015-12-03 171717', 'yyyy-mm-dd hh24miss')
   and t.band_width in
       (select rate_id from nettype_info where bandrate = '100M')
   and substr(t.citycd, 0, 2) = '08'
 group by rollup(http_url)

--聚合函数
--AVG	返回指定组中的平均值，空值被忽略
select  prd_no,avg(qty) from sales group by prd_no

--COUNT	返回指定组中项目的数量
select  count(prd_no) from sales

--COUNT_BIG  返回指定组中的项目数量，与COUNT函数不同的是COUNT_BIG返回bigint值，而COUNT返回的是int值
select  count_big(prd_no) from sales

--MAX	返回指定数据的最大值
select  prd_no,max(qty) from sales group by prd_no

--MIN  	返回指定数据的最小值
select  prd_no,min(qty) from sales group by prd_no

--SUM  	返回指定数据的和，只能用于数字列，空值被忽略
select  prd_no,sum(qty) from sales group by prd_no

--GROUPING  产生一个附加的列，当用CUBE或ROLLUP运算符添加行时，输出值为1.当所添加的行不是由CUBE或ROLLUP产生时，输出值为0
select  prd_no,sum(qty),grouping(prd_no) from sales group by prd_no with rollup

/*BINARY_CHECKSUM  返回对表中的行或表达式列表计算的二进制校验值，用于检测表中行的更改
CHECKSUM_AGG  返回指定数据的校验值，空值被忽略
CHECKSUM  返回在表的行上或在表达式列表上计算的校验值，用于生成哈希索引
STDEV  返回给定表达式中所有值的统计标准偏差
STDEVP  返回给定表达式中的所有值的填充统计标准偏差
VAR  返回给定表达式中所有值的统计方差
VARP  返回给定表达式中所有值的填充的统计方差*/

--ROLLUP()和CUBE()区别
--ROLLUP()生成简单的 GROUP BY 聚合行以及小计行或超聚合行，还生成一个总计行。
SELECT a, b, c, SUM ( <expression> )
FROM T
GROUP BY ROLLUP (a,b,c)
--会为 (a, b, c)、 (a, b) 和 (a) 值的每个唯一组合生成一个带有小计的行,还将计算一个总计行
--CUBE()生成简单的 GROUP BY 聚合行、ROLLUP 超聚合行和交叉表格行
SELECT a, b, c, SUM (<expression>)
FROM T
GROUP BY CUBE (a,b,c)
--会为 (a, b, c)、 (a, b)、 (a, c)、 (b, c)、 (a)、 (b) 和 (c) 值的每个唯一组合生成一个带有小计的行，还会生成一个总计行
```
#### 增加外键

作用是:最直观的作用是**防止非法数据录入**，就是说录入外键数据时必须在它所属的主表中存在相应数据，如果录入空字符或其他数据会报错。从软件工程的角度看，建立数据库的过程，是从建立物理模型开始的。在物理模型中创建了外键，那么在转化成概念模型甚至于生成sql代码时，就会自动生成相应字段，而不用重复定义。

```sql
create table dept	--公司的部门信息
(deptno number(10) not null,
deptname varchar2(30) not null,
constraint pk_dept primary key(deptno));	--主键

create table emp	--员工的基本信息
( empno number(10) not null,
fname varchar2(20) ,
lname varchar2(20) ,
dept number(10) ,
constraint pk_emp primary key(empno));  --主键

--在员工表增加外键关联到部门表,同时增加级联删除(on delete cascade这句话不加也可以)
alter table emp
add constraint fk_emp_dept foreign key(dept) references dept(deptno) on delete cascade;

delete from dept where deptno = 1;
--删除dept中的一条数据，emp中两条数据也被删除了
```
#### 字符串相加

```sql
cpuusage || '%' cpuusage,
```

#### nvl和nvl2函数

NVL( string1, replace_with) 功能：如果string1为NULL，则NVL函数返回replace_with的值，否则返回string1的值，如果两个参数都为NULL ，则返回NULL。

NVL2(expr1,expr2,expr3) 功能：如果参数表达式expr1值为NULL，则NVL2()函数返回参数表达式expr3的值；如果参数表达式expr1值不为NULL，则NVL2()函数返回参数表达式expr2的值。


```sql
nvl2(cpuusage,cpuusage || '%', 0) cpuusage,
```

#### between

```sql
between to_date('2015-09-23 000000','yyyy-mm-dd hh24miss') 
	and to_date('2015-09-23 175959','yyyy-mm-dd hh24miss')
```

#### decode

将查询结果翻译成其他值

```sql
decode(条件,值1,翻译值1,值2,翻译值2,...值n,翻译值n,缺省值)
```

#### 将表结构导出到word

```sql
SELECT t1.Table_Name AS "表名称",
t3.comments AS "表说明", 
t1.Column_Name AS "字段名称",
t1.Data_Type AS "数据类型",
t1.Data_Length AS "长度",
t1.NullAble AS "是否为空",
t2.Comments AS "字段说明",
t1.Data_Default "默认值"
FROM cols t1 left join user_col_comments t2
on t1.Table_name=t2.Table_name and t1.Column_Name=t2.Column_Name
left join user_tab_comments t3 
on t1.Table_name=t3.Table_name 
WHERE NOT EXISTS ( SELECT t4.Object_Name FROM User_objects t4
WHERE t4.Object_Type='TABLE' 
AND t4.Temporary='Y' 
AND t4.Object_Name=t1.Table_Name )
ORDER BY t1.Table_Name, t1.Column_ID;
```

#### 修改表字段varchar长度

```sql
oracle下这么执行
alter table member modify phone char(15);
sqlserver下这么执行
alter table member alter column phone char(15);
```



### java

#### 判断是否是数字的正则表达式

```java
public static boolean isNumeric(String tester) {
        boolean isNumeric=false;
        if(Validators.isNotnull(tester) && Pattern.matches("^(-)?\\d+$", tester)) {
            isNumeric = true;
        }
        return isNumeric;
}
/*
^  代表第一个位置
(-)代表负号, 要匹配圆括号字符，请使用“\(”或“\)”
?  前面的也就是(-)出现零次或者一次
\  在java中代表转义字符,所以要得到正则表达式的\d(代表一个数字),需要\\才能够得到\,然后加个d
+  代表前面的表达式即\d可以出现一次或者多次
$  代表最后一个位置
*/
```

#### Hibernate

**getSession()**

- getSession()只要继承 sessionFactory
- getSession()方法，spring会把最原始的session给你，在使用完之后必须自己调用相应的close方法，而且也不会对声明式事务进行相应的管理，一旦没有及时关闭连接，就会导致数据库连接池的连接数溢出

**getHibernateTemplate()**

- getHibernateTemplate()方法必须继承HibernateDaoSupport

- getHibernateTemplate()方法是经过spring封装的，例如添加相应的声明式事务管理，由spring管理相应的连接。

- HibernateTemplate 提供非常多的常用方法来完成基本的操作，比如通常的增加、删除、修改、查询等操作

  - q void delete(Object entity)：删除指定持久化实例 
  - q deleteAll(Collection entities)：删除集合内全部持久化类实例 
  - q find(String queryString)：根据HQL查询字符串来返回实例集合 
  - q findByNamedQuery(String queryName)：根据命名查询返回实例集合 
  - q get(Class entityClass, Serializable id)：根据主键加载特定持久化类的实例 
  - q save(Object entity)：保存新的实例 
  - q saveOrUpdate(Object entity)：根据实例状态，选择保存或者更新 
  - q update(Object entity)：更新实例的状态，要求entity是持久状态 
  - q setMaxResults(int maxResults)：设置分页的大小

- 有些方法在getHibernateTemplate()并没有提供，这时我们用HibernateCallback 回调的方法管理数据库

  ```java
  //execute是最基础的
  //<Object> Object HibernateTemplate.execute(HibernateCallback<Object> action) throws DataAccessException
  public VulScannerInfo getScannerInfoByScannerId(final Long scannerId) {
    return (VulScannerInfo) getHibernateTemplate().execute(new HibernateCallback<Object>(){
      public Object doInHibernate(Session session)
        throws HibernateException, SQLException {

        //扫描器ID为空，则返回空
        if(scannerId == null){
          return null;
        }

        String hql = "from VulScannerInfo where scannerid = :scannerid and deleted = 0";
  	  //使用hql调用createQuery()方法
        Query query = session.createQuery(hql);
        query.setParameter("scannerid", scannerId);
  	  //确定返回的实例只有一个或者null时 用uniqueResult()方法
        return query.uniqueResult();
      }

    });
  }

  //excuteFind就是execute的结果集判断了一下:HibernateCallback 类型的action必须返回list
  public List<VulRiskTaskResultDetail> getVulTaskResultDetails(final FilterChain chain) {
    return getHibernateTemplate().executeFind(new HibernateCallback<Object>(){
      public Object doInHibernate(Session session) throws HibernateException, SQLException {

        String sql = "select  distinct {t.*} from vul_risk_task_result_detail t ";
        sql += "left join vul_risk_task_detail_history history on history.detailid = t.detailid ";
        if(chain != null){
          sql += chain.toSql();
        }
        //使用sql调用createSQLQuery()方法
        SQLQuery query = session.createSQLQuery(sql);
        setQueryParameter(query, chain);
        query.addEntity("t",VulRiskTaskResultDetail.class);
  	  //查询返回多个值用list()方法
        return query.list();
      }

    });
  }

  //或者使用?来做占位符
  public void paySuccess(Long orderNo) {
    String sql = "update Order  set  status =1  ,  payTime =?  where orderNo =? ";
    getCurrentSession().createQuery(sql).setTimestamp(0 ,new Date()).setLong(1, orderNo).executeUpdate();
  }

  //in语句中可以使用setParameterList()方法
  public Integer updateStatusDiscard(List<Long> rids) {
    String sql = "UPDATE requirement r SET r.status=0,r.updateTime=NOW() WHERE r.id IN (:rids)";
    return getCurrentSession().createSQLQuery(sql).setParameterList("rids", rids).executeUpdate();
  }
  ```

#### struts1的转发

```java
//1.页面
href="transfer.do"
//2.struts-config.xml
<action input="/index.jsp" path="/transfer" scope="request"
			type="org.springframework.web.struts.DelegatingActionProxy">
			 <forward name="main" path="/WEB-INF/MyJsp.jsp" />
</action>
//3.java文件
//返回MyJsp.jsp
return mapping.findForward("main");
//返回index.jsp
return mapping.getInputForward()
```

#### 时间处理

```java
//当前时间
Calendar calendar = Calendar.getInstance();
Date now = new Date();
//互相转换
calendar.setTime(now);
now = calendar.getTime();
//时间与字符串
SimpleDateFormat sf = new SimpleDateFormat("yyyyMMdd");
String date = sf.format(new Date());
String year = calendar.get(Calendar.YEAR);
String month = calendar.get(Calendar.MONTH)+1; //get的返回值为int
String day = calendar.get(Calendar.DATE);
String weekday = calendar.get(Calendar.DAY_OF_WEEK);//可以设置从哪一天开始 默认星期日 返回1~7
```

#### 输出printStackTrace()堆栈信息

- 简单办法，需要用到log4j

```java
log.error(e.getMessage(),e); 
```

- 通用办法，使用printStackTrace()的另一个构造方法

```java
StringWriter sw = new StringWriter();
e.printStackTrace(new PrintWriter(sw, true));
String str = sw.toString();
logger.error ( "Exception : " + str ) ;
```

#### XML解析与构造

```java
//解析
Element element;  
element.asXML(); //result:<info><Account>33</Account><CityCd>44</CityCd></info>
if(element != null){
  if(element.selectSingleNode("Account") != null){
    account = element.selectSingleNode("Account").getText();
  }
  if(element.selectSingleNode("CityCd") != null){
    cityCd = element.selectSingleNode("CityCd").getText();
  }
}

Element paramElement;   //<Account>33</Account> 仅有一个节点
paramElement.getText(); //result: 33

//构造
Element result = root.addElement("result");
result.setText("1");
```

#### try catch finally

- 即使catch里面有return也会执行finally
- 一般finally写的代码都是流关闭语句
- 如果没有执行try语句之前就return了或者发生异常，则不会进入finally

#### session

- request.setAttribute(position, nameOfObj)不同页面间传值使用时，只会从a.jsp到b.jsp一次传递，之后这个request就会失去它的作用范围
- session.setAttribute()会在一个过程中始终保有这个值。

```java
public LoginResult check(CheckInfo checkInfo,HttpServletRequest request){
    HttpSession session = request.getSession();
    session.setAttribute("loginUser", sysUser);
}

public String getStructure(HttpServletRequest request, Map<String, Object> map) {
    HttpSession session = request.getSession();
    sysUser = (SysUser) request.getAttribute("loginUser");
}
```

#### fastjson

- 前端数据格式为json，且后端使用fastJson的时候可以使用反序列注解，对实体类的时间格式进行格式化

```java
@JSONField (format="yyyy-MM-dd HH:mm:ss")  
private Date ctime;
```

### linux

#### netstat

用于显示各种网络相关信息

-a (all)显示所有选项，默认不显示LISTEN相关
-t (tcp)仅显示tcp相关选项
-u (udp)仅显示udp相关选项
-n 拒绝显示别名，能显示数字的全部转化成数字。
-l 仅列出有在 Listen (监听) 的服務状态

#### grep

正则匹配命令

-I(i大写) ：忽略大小写 
-c ：打印匹配的行数 
-l ：从多个文件中查找包含匹配项 
-v ：查找不包含匹配项的行 
-n：打印包含匹配项的行和行标
-A ：显示匹配行的后几行 
-B ：显示匹配行的前几行
-C ：显示匹配行的后前几行


```shell
#显示所有以d开头的文件中包含test的行。
$ grep 'test' d*
#显示在aa，bb，cc文件中匹配test的行。
$ grep 'test' aa bb cc
#显示所有包含每个字符串至少有5个连续小写字符的字符串的行。
$ grep '[a-z]\{5\}' aa

#在event.log中查找包含test内容及其后两行
more event.log|grep 'test' -A 2
```

#### wc

-c 统计字节数。
-l 统计行数。
-m 统计字符数。这个标志不能与 -c 标志一起使用。
-w 统计字数。一个字被定义为由空白、跳格或换行字符分隔的字符串。
-L 打印最长行的长度。

#### 查询某端口监听数量（运用上述三条命令）

```shell
netstat -na|grep 80|wc -l
查询80端口的监听数目
```
#### crontab

-e 编辑crontab服务文件

```
30 2 * * * /DATA1/script/auto.sh
05 22 * * * /usr/sbin/ntpdate 10.142.80.17;

cron文件语法:

分     小时    日       月       星期     命令
0-59   0-23   1-31   1-12     0-6     command     (取值范围,0表示周日一般一行对应一个任务)
记住几个特殊符号的含义:
“*”代表取值范围内的数字,
“/”代表”每”,
“-”代表从某个数字到某个数字,
“,”分开几个离散的数字
```

 -l  列出当前的所有调度任务

 -r  删除所有任务调度工作

查看服务是否已经运行用 ps -ax | grep cron 

#### ntpdate

当Linux服务器的时间不对的时候，可以使用ntpdate工具来校正时间。

```sql
05 22 * * * /usr/sbin/ntpdate 10.142.80.17;
```

#### vi清空

首先，使用gg调整光标到首行，然后使用dG命令即可。

#### df磁盘空间

-a 全部文件系统列表
-h 方便阅读方式显示
-H 等于“-h”，但是计算式，1K=1000，而不是1K=1024
-i 显示inode信息
-k 区块为1024字节
-l 只显示本地文件系统
-m 区块为1048576字节
--no-sync 忽略 sync 命令
-P 输出格式为POSIX
--sync 在取得磁盘信息前，先执行sync命令
-T 文件系统类型

```shell
df -hl 查看本地磁盘剩余空间
df -t ext3 指定磁盘类型
```

#### du目录或文件

-h：以人类可读的方式显示
-a：显示目录占用的磁盘空间大小，还要显示其下目录和文件占用磁盘空间的大小
-s：显示目录占用的磁盘空间大小，不要显示其下子目录和文件占用的磁盘空间大小
-c：显示几个目录或文件占用的磁盘空间大小，还要统计它们的总和
--apparent-size：显示目录或文件自身的大小
-l ：统计硬链接占用磁盘空间的大小
-L：统计符号链接所指向的文件占用的磁盘空间大小

```shell
du -h 文件 
du -ah
du -sh
```

#### more

功能等同cat，只是带有翻页功能，还支持转跳行

按**空白键（space）**就往下一页显示，按 **b** 键就会往回（back）一页显示

```shell
more +3 test.log  #从第三行开始显示日志内容
more -4 test.log  #定义每次翻页4行
```

more, less 都具备查找功能，按/ 然后输入要找的字串，再按 Enter 即可，按 n(next) 会继续找，大写的 N 则是往回(上)找，按 q(quit)或者ZZ离开

#### 解压缩

```shell
#zip
zip test.zip testinfo 	#将testinfo压缩成test.zip
unzip test.zip 			#将test.zip解压
#rar linux下不一定能解压rar需要安装有rarlinux
unrar x testl.rar 		#将test.rar解压，x代表解压所有路径
#tar.gz
tar –zvxf test.tar.gz	#将test.tar.gz解压

x : 从 tar 包中把文件提取出来
z : 表示 tar 包是被 gzip 压缩过的，所以解压时需要用 gunzip 解压
v : 显示详细信息
f xxx.tar.gz :  指定被处理的文件是 xxx.tar.gz
```

### mysql

#### 查询版本和位数

```sql
select version();
show variables like '%version_%'

show databases; -- 查看所有数据库
select database(); --查看当前数据库
```
#### 外键的级联删除

```sql
alter table user_image_results_assoc add constraint FK_Reference_1 foreign key (resultid)
      references user_image_results (resultid) on delete restrict on update restrict;
/*restrict是限制的意思*/
/*CASCADE 是级联的意思*/
所以要将上面的改为cascade
```

#### 删除的三种方法

```sql
/*删除内容和定义，释放空间*/
drop table if exists legal_holiday;
drop table tb;

/*删除内容、释放空间但不删除定义，无法级联删除，受外键影响*/
truncate table tb;

/*删除内容不删除定义，不释放空间，可以级联删除，效率底一行行删除*/
delete from tb
```

### jquery

#### 回车键登陆

```javascript
document.onkeydown = function(e) {
    var ev = document.all ? window.event : e;
     if(ev.keyCode==13) {
          if (!$('#btsubmit').prop('disabled'))
                loginsubmit();
     }
}
```

#### prop attr css

```javascript
$('#btsubmit').prop('disabled')			//判断元素是否disabled，是的话返回true

$('#btsubmit').attr('disabled',false);	//设置元素的属性值

$('#errorinfo').css('display','none');	//设置元素的CSS属性值
$("p").css("background-color");			//返回元素的CSS属性值
```

#### animated重复动画

```javascript
$('#errorinfo').addClass( 'animated shake').one(
    'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
        $(this ).removeClass('animated shake');
});
//.one用来判断动画结束
```

#### 实时监控文本框输入值

- oninput 是 HTML5 的标准事件，检测 textarea, input:text, input:password 和 input:search 发生的内容变化，在内容修改后立即被触发
- onchange 事件需要失去焦点才触发。
- oninput 事件在 IE9 以下版本不支持，需要使用 IE 特有的 onpropertychange 事件替代

```html
<head>
    <script type="text/javascript">
    // Firefox, Google Chrome, Opera, Safari, Internet Explorer from version 9
        function OnInput (event) {
            alert ("The new content: " + event.target.value);
        }
    // Internet Explorer
        function OnPropChanged (event) {
            if (event.propertyName.toLowerCase () == "value") {
                alert ("The new content: " + event.srcElement.value);
            }
        }
    </script>
</head>
<body>
    Please modify the contents of the text field.
    <input type="text" oninput="OnInput (event)" onpropertychange="OnPropChanged (event)" value="Text field" />
</body>
```

- 使用jquery库的写法

```javascript
$('textarea').bind('oninput propertychange', function() {
    $('.msg').html($(this).val().length + ' characters');
});
```

#### json和xml解析与转换

- JSON

  - json直接使用.解析：data.logincode == '1'


-   json对象转换为字符串 JSON.stringify(data);
  - 字符串转换为json对象 JSON.parse(jsonstr);

- xml

  - 解析：var account = $(data).find('Account').text();

  - xml对象转字符串

    ```javascript
    (new XMLSerializer()).serializeToString(xmlData); //火狐
    xmlData.xml;  //IE
    ```

  - 字符串转xml对象

    ```javascript
    //FF   
     if (document.implementation.createDocument) {   
             var parser = new DOMParser()   
             xmlDoc = parser.parseFromString(xmlString, "application/xml")   
    //IE   
     } else if (window.ActiveXObject) {   
             xmlDoc = new ActiveXObject("Microsoft.XMLDOM")   
             xmlDoc.async="false"  
             xmlDoc.loadXML(xmlString)   
     } 
    ```

#### 遍历来实现批量修改

```javascript
$("#strategySet").find("select").each(function (i){
    var DomId =  $(this).attr("name");
}
```

#### 字符串空格处理

```javascript
str=$.trim(str);
```

#### append() 和 prepend()

```javascript
$("p").append(" <b>Hello world!</b>");   //在被选元素的后面插入指定内容
$("p").prepend("<b>Hello world!</b>");	 //在被选元素的开头插入指定内容
```

### HTML

#### 手机自适应以及禁止缩放

```html
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
```

### CSS

#### 两个DIV并排，且第一个居中

```html
<style type="text/css">
    * {margin:0px; padding:0px;}
    .box {position:absolute; top:50%; left:50%; width:200px; height:100px; margin-left:-50px; margin-top:-50px;}
    .div1 {width:100px; height:100px; background:#ccc; float:left;}
</style>
</head>
<body>
    <div class="box">
        <div class="div1"/>
        <div class="div1"/>
    </div>
</body>
```

#### 判断手机方向

```css
/*判断是否竖屏*/
@media screen and (orientation:portrait) {
    .speedcenter{width:100%}
    .mspeed{left:50%}
}
/*判断是否横屏*/
@media screen and (orientation:landscape) {
    .speedcenter{width:50%}
    .mspeed{left:65%;top:50%}
}
```

#### CSS属性选择器

- 简易属性选择器

  ```css
  h1[class]{color:silver;}			/*作用于任何带class的h1元素*/
  img[alt]{color:silver;}				/*作用于任何带有alt属性的img元素*/
  a[href][title]{font-weight:bold;}	/*作用于同时带href和title属性的a元素*/
  ```

- 精确属性值选择器

  ```css
  h1#logo 等同于 h1[id="logo"]  /*不同于简易选择器，在其基础上添加更精准信息*/
  a[title="W3CHome"]{font-size:200%;} 将会作用于 <a href="http://www.mb5u.com/"title="mb5uHome"></a>
  ```

- 部分属性值选择器

  ```css
  <p class="urgentwarning">Whenhandlingplutonium,oidtheformationofacriticalmass.</p> 
  p[class~="warning"]{font-weight:bold;}  和p[class~="urgent"]{font-weight:bold;} 都会匹配上面的p
  /*比如你要样式化插图，其title中都含字符串”Figure”，如title="Figure5"，则你可以使用img[title~="Figure"]。*/
  ```

- 非凡属性选择器

  ```css
  [lang|="en"]{color:white;}
  这条规则将会选择属性lang的值en或者en-打头的元素
  可以匹配<h1 lang="en">Hello!</h1>、<p lang="en-us">Greetings!</p>和<div lang="en-au">G'day!</div>
  而不匹配<p lang="fr">Bonjour!</p>和<h3 lang="cy-en">Jrooana!</h3>。
  ```

### xml

- 使用<![CDATA[文本内容]]>来处理包含的<>&等符号，不能包含]]>(这是结束标签)
- 使用


```xml
&lt;  	代替 	<
&gt;  	代替 	>
&amp; 	代替	&
&quot;  代替  "             
&apos;  代替  '     
```


## 工具篇

### Tomcat

#### 加入密码

```xml
<tomcat-users></tomcat-users>之间加上这一句
<user name="admin" password="admin123" roles="manager-gui"/>
```

### Soapui

#### 注意

- 输入的xml要有 <![CDATA[xml文本]]>

#### soapui技术

![socket](https://raw.githubusercontent.com/jayypc/notes/master/images/socket.png)

### myeclipse

#### 新建wsdl

右键
-> new -> other -> web services -> Web Service Client ->粘贴wsdl地址 ->选择要生成的地址
-> 删除多余文件

#### 增强补全功能

Eclipse -> Window -> Perferences -> Java -> Editor -> Content Assist下

**Auto activation triggers for Java**里的.改为

```
".abcdefghijklmnopqrstuvwsyzABCDEFGHIJKLMNOPQRSTUVWSYZ_"
```

如果版本比较低，不能直接修改的话，就导出配置文件，然后修改配置文件，最后再导入配置文件。

#### myeclipse低版本去除空格和=号补全

- 查看myeclipse对应eclipse版本

  安装目录MyEclipse 6.6/eclipse/readme下的readme_eclipse.html中的版本号

- 下载eclipse源码

  http://archive.eclipse.org/eclipse/downloads/

- 修改org.eclipse.jface.text包替换到eclipse/plugins

  - src/org/eclipse/jface/text/contentassist/CompletionProposalPopup.java

  ```java
  char[] triggers = t.getTriggerCharacter(); 
  if (contains(triggers, key))
  改为
  if(key != '=' && key != 0x20 &&contains(triggers,key)){ .........}
  ```

### PowerDesigner

> 先将现实世界中的客观对象抽象为实体(Entity)和联系(Relationship),它并不依赖于具体的计算机系统或某个DBMS系统，这种模型就是我们所说的**概念数据模型**CDM
>
> 然后再将CDM转换为计算机上某个DBMS所支持的数据模型，这样的模型就是**物理数据模型**,即PDM。

- 左侧结构：

  - Workspace
    - 模型（assetmanage）
      - 默认图（asset）
      - 图中包含表（tables）
      - 图中包含关系（references）

- 增加表注释

  双击表进入设置，点击标签页Columns，单击customize columns and filter（自定义列和过滤器），勾选Commont

- Columns的各个属性

  - Name是PowerDesigner的展示内容
  - Code是具体的表属性
  - Comment是属性注释
  - Data Type是数据类型
  - Length是数据长度（但有些类型如Date是没有长度的）
  - P是主键选项
  - M是非空项选项
  - F是外键选项


- 新建物理数据对象模型

  Physical Data Model > Physical Diagram

- 业务流程图

  Business Process Model > Business Process Diagram

- 业务层次分析图

  Business Process Model > Process Hierarchy Diagram